<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#8e44ad">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>OquWay Educational App</title>

  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!-- Performance: Preconnect to CDNs -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <link rel="preconnect" href="https://images.weserv.nl">
  <link rel="preconnect" href="https://via.placeholder.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link rel="stylesheet" href="css/style.css?v=5" />
  <style>
    #loadingScreen {
      transition: opacity 0.8s ease-out;
    }

    #introVideo {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .video-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }
  </style>
</head>

<body style="background: linear-gradient(to right, #a7e6f8, #f8d3a7);">

  <button id="fullscreenBtn" title="Toggle Fullscreen" class="fullscreen-btn">
    â›¶
  </button>
  <button id="kioskBtn" class="kiosk-btn">ðŸ”’ Kiosk</button>

  <div class="container">
    <div id="languageSwitcher" class="language-switcher">
      <img src="https://flagcdn.com/us.svg" data-lang="en" class="selected" alt="EN">
      <img src="https://flagcdn.com/ru.svg" data-lang="ru" alt="RU">
      <img src="https://flagcdn.com/kg.svg" data-lang="kg" alt="KG">
    </div>

    <div class="content-wrapper">
      <div id="messageBox" class="message-box"></div>
      <div id="screenContainer" class="h-full overflow-y-auto">
        <div id="courseItemsContainer" class="grid gap-4 p-4 sm:grid-cols-2 lg:grid-cols-3"></div>
      </div>
    </div>
  </div>

  <!-- Orientation Lock Overlay -->
  <div id="orientationBlock"
    class="hidden fixed inset-0 z-[9999] bg-[#8e44ad] text-white flex flex-col items-center justify-center text-center p-8">
    <div class="text-6xl mb-4 animate-bounce">ðŸ”„</div>
    <div class="text-2xl font-bold">Please rotate your device</div>
    <p class="mt-2 opacity-90">OquWay works best in Landscape mode!</p>
  </div>

  <div id="loadingScreen"
    style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: white; display: flex; align-items: center; justify-content: center; z-index: 500;">
    <video id="introVideo" muted playsinline autoplay>
      <source src="assets/starting_video.mp4" type="video/mp4">
    </video>
    <div id="loadingText" class="video-overlay text-white transition-opacity duration-500">
      <div class="text-4xl animate-bounce mb-4">ðŸ¦ŠðŸ“šðŸ¦‰</div>
      <div class="text-xl font-bold tracking-widest uppercase">Loading magic schools...</div>
    </div>
  </div>
  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/main.js"></script>
</body>

</html>